{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"update-user-form\"\n};\nconst _hoisted_2 = {\n  class: \"select-group\"\n};\nconst _hoisted_3 = {\n  class: \"select-container\"\n};\nconst _hoisted_4 = {\n  class: \"select-container\"\n};\nconst _hoisted_5 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[21] || (_cache[21] = _createElementVNode(\"h3\", null, \"Actualizar Usuario\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.submitUpdate && $options.submitUpdate(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", null, \"Nombre:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.userForm.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userForm.name]])]), _createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", null, \"Apellidos:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.userForm.apellidos = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userForm.apellidos]])]), _createElementVNode(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", null, \"Email:\", -1 /* HOISTED */)), _createCommentVNode(\" El email se muestra pero se deshabilita para evitar cambios \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.userForm.email = $event),\n    required: \"\",\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userForm.email]])]), _createElementVNode(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", null, \"Tel√©fono:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.userForm.phone = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userForm.phone]])]), _createElementVNode(\"div\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", null, \"Direcci√≥n:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.userForm.address = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userForm.address]])]), _createElementVNode(\"div\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", null, \"Contrase√±a:\", -1 /* HOISTED */)), _createCommentVNode(\" La contrase√±a se puede dejar vac√≠a para no cambiarla \"), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.userForm.password = $event),\n    placeholder: \"Dejar vac√≠o para conservar actual\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.userForm.password]])]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", null, \"Rol:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.userForm.role = $event)\n  }, _cache[16] || (_cache[16] = [_createElementVNode(\"option\", {\n    value: \"admin\"\n  }, \"Admin\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"superadmin\"\n  }, \"SuperAdmin\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"client\"\n  }, \"Cliente\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.userForm.role]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", null, \"Estado:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.userForm.status = $event)\n  }, _cache[18] || (_cache[18] = [_createElementVNode(\"option\", {\n    value: \"activo\"\n  }, \"Activo\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"inactivo\"\n  }, \"Inactivo\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.userForm.status]])])]), _createElementVNode(\"div\", _hoisted_5, [_cache[20] || (_cache[20] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"üîÑ Actualizar\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.cancelUpdate && $options.cancelUpdate(...args))\n  }, \"‚ùå Cancelar\")])], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitUpdate","type","$event","$data","userForm","name","required","apellidos","_createCommentVNode","email","disabled","phone","address","password","placeholder","_hoisted_2","_hoisted_3","role","value","_hoisted_4","status","_hoisted_5","onClick","cancelUpdate"],"sources":["/home/lated/LatedServices/frontend/src/views/admin/UpdateUserForm.vue"],"sourcesContent":["<template>\n    <div class=\"update-user-form\">\n      <h3>Actualizar Usuario</h3>\n      <form @submit.prevent=\"submitUpdate\">\n        <div>\n          <label>Nombre:</label>\n          <input type=\"text\" v-model=\"userForm.name\" required />\n        </div>\n        <div>\n          <label>Apellidos:</label>\n          <input type=\"text\" v-model=\"userForm.apellidos\" required />\n        </div>\n        <div>\n          <label>Email:</label>\n          <!-- El email se muestra pero se deshabilita para evitar cambios -->\n          <input type=\"email\" v-model=\"userForm.email\" required disabled />\n        </div>\n        <div>\n        <label>Tel√©fono:</label>\n        <input type=\"text\" v-model=\"userForm.phone\" required />\n      </div>\n      <div>\n        <label>Direcci√≥n:</label>\n        <input type=\"text\" v-model=\"userForm.address\" required />\n      </div>\n        <div>\n          <label>Contrase√±a:</label>\n          <!-- La contrase√±a se puede dejar vac√≠a para no cambiarla -->\n          <input type=\"password\" v-model=\"userForm.password\" placeholder=\"Dejar vac√≠o para conservar actual\" />\n        </div>\n        <div class=\"select-group\">\n          <div class=\"select-container\">\n            <label>Rol:</label>\n            <select v-model=\"userForm.role\">\n              <option value=\"admin\">Admin</option>\n              <option value=\"superadmin\">SuperAdmin</option>\n              <option value=\"client\">Cliente</option>\n            </select>\n          </div>\n          <div class=\"select-container\">\n            <label>Estado:</label>\n            <select v-model=\"userForm.status\">\n              <option value=\"activo\">Activo</option>\n              <option value=\"inactivo\">Inactivo</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"form-actions\">\n          <button type=\"submit\">üîÑ Actualizar</button>\n          <button type=\"button\" @click=\"cancelUpdate\">‚ùå Cancelar</button>\n        </div>\n      </form>\n    </div>\n  </template>\n  \n  <script>\n  import axios from '@/plugins/axios';\n  \n  export default {\n    name: \"UpdateUserForm\",\n    props: {\n      userData: {\n        type: Object,\n        required: true\n      }\n    },\n    data() {\n      return {\n        userForm: { ...this.userData }\n      };\n    },\n    watch: {\n      userData(newVal) {\n        this.userForm = { ...newVal };\n      }\n    },\n    methods: {\n      async submitUpdate() {\n        try {\n          // Elimina la contrase√±a del payload si est√° vac√≠a\n          let payload = { ...this.userForm };\n          if (!payload.password || payload.password.trim() === \"\") {\n          delete payload.password;\n          }\n          const response = await axios.put(`/users/${payload.id}/profile`, payload);\n          this.$emit('user-updated', response.data);\n        } catch (error) {\n          console.error(\"Error al actualizar usuario:\", error.response?.data || error);\n          this.$emit('error', error.response?.data?.message || 'Error al actualizar usuario.');\n        }\n      },\n      cancelUpdate() {\n        this.$emit(\"cancel-update-user\");\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .update-user-form {\n    max-width: 350px;\n    margin: auto;\n    padding: 15px;\n    background: #fff;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    margin-bottom: 30px;\n  }\n  .update-user-form h3 {\n    text-align: center;\n    font-size: 20px;\n    color: #345896;\n    margin-bottom: 15px;\n  }\n  .update-user-form form > div {\n    margin-bottom: 15px;\n  }\n  .update-user-form label {\n    font-weight: bold;\n    color: #333;\n    margin-bottom: 5px;\n    display: block;\n  }\n  .update-user-form input,\n  .update-user-form select {\n    width: 100%;\n    padding: 8px;\n    border-radius: 4px;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    transition: all 0.3s ease;\n  }\n  .update-user-form input:focus,\n  .update-user-form select:focus {\n    border-color: #345896;\n    box-shadow: 0 0 5px rgba(52, 88, 150, 0.5);\n  }\n  .select-group {\n    display: flex;\n    gap: 10px;\n    justify-content: space-between;\n  }\n  .select-container {\n    width: 48%;\n  }\n  .form-actions {\n    display: flex;\n    gap: 10px;\n    justify-content: center;\n  }\n  button {\n    padding: 10px 15px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 16px;\n  }\n  button[type=\"submit\"] {\n    background: #345896;\n    color: white;\n  }\n  button[type=\"button\"] {\n    background: #ccc;\n    color: #333;\n  }\n  button:hover {\n    opacity: 0.8;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}