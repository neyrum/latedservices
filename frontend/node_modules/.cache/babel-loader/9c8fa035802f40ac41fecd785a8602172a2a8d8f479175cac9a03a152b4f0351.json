{"ast":null,"code":"import { computed, ref, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport api from \"../plugins/axios\";\nimport Navbar from \"../components/Navbar.vue\";\nimport Footer from \"../components/Footer.vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    Navbar,\n    Footer\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const services = ref([]);\n    const loading = ref(true);\n    const error = ref(null);\n    const defaultImage = \"/assets/img/default-service.jpg\";\n    const isAuthenticated = computed(() => store.getters.isAuthenticated);\n    onMounted(async () => {\n      try {\n        const response = await api.get(\"/services\");\n        services.value = response.data;\n      } catch (err) {\n        error.value = \"No se pudieron cargar los servicios.\";\n      } finally {\n        loading.value = false;\n      }\n    });\n\n    // Redirigir al formulario de solicitud de servicio\n    const redirectToRequestService = serviceId => {\n      router.push({\n        name: \"RequestService\",\n        query: {\n          serviceId\n        }\n      });\n    };\n    return {\n      services,\n      loading,\n      error,\n      isAuthenticated,\n      redirectToRequestService,\n      defaultImage\n    };\n  }\n};","map":{"version":3,"names":["computed","ref","onMounted","useStore","useRouter","api","Navbar","Footer","name","components","setup","store","router","services","loading","error","defaultImage","isAuthenticated","getters","response","get","value","data","err","redirectToRequestService","serviceId","push","query"],"sources":["/Users/macbookpro/project/LatedServices/frontend/src/views/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <Navbar />\n\n    <!-- Encabezado -->\n    <header class=\"masthead\">\n      <div class=\"container\">\n        <div class=\"masthead-subheading\">Bienvenido a los Servicios de LATED</div>\n        <div class=\"masthead-heading text-uppercase\">Nuestros Servicios</div>\n        <a class=\"btn btn-primary btn-xl text-uppercase\" href=\"#services\">\n          Ver Servicios\n        </a>\n      </div>\n    </header>\n\n    <!-- Sección de servicios -->\n    <section id=\"services\" class=\"page-section\">\n      <div class=\"container\">\n        <div class=\"text-center\">\n          <h2 class=\"section-heading text-uppercase\">Servicios</h2>\n          <h3 class=\"section-subheading text-muted\">Descubre lo que ofrecemos.</h3>\n        </div>\n\n        <!-- Mensajes de carga y errores -->\n        <div v-if=\"loading\">Cargando servicios...</div>\n        <div v-else-if=\"error\">Error al cargar servicios: {{ error }}</div>\n\n        <!-- Lista de servicios -->\n        <div v-else class=\"row text-center\">\n          <div v-for=\"service in services\" :key=\"service.id\" class=\"col-md-4\">\n            <img\n              class=\"img-fluid rounded-circle mb-3\"\n              :src=\"service.image || defaultImage\"\n              :alt=\"service.name\"\n              loading=\"lazy\"\n              style=\"width: 150px; height: 150px; object-fit: cover;\"\n            >\n            <h4 class=\"my-3\">{{ service.name }}</h4>\n            <p class=\"text-muted\">{{ service.description }}</p>\n            <p><strong>Precio:</strong> {{ service.price }}</p>\n\n            <!-- Botón para solicitar servicio -->\n            <router-link\n              v-if=\"!isAuthenticated\"\n              to=\"/login\"\n              class=\"btn btn-primary\"\n            >\n              Solicitar servicio\n            </router-link>\n            <button\n              v-else\n              class=\"btn btn-primary\"\n              @click=\"redirectToRequestService(service.id)\"\n            >\n              Solicitar servicio\n            </button>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport { computed, ref, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport api from \"../plugins/axios\";\nimport Navbar from \"../components/Navbar.vue\";\nimport Footer from \"../components/Footer.vue\";\n\nexport default {\n  name: \"Home\",\n  components: { Navbar, Footer },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const services = ref([]);\n    const loading = ref(true);\n    const error = ref(null);\n    const defaultImage = \"/assets/img/default-service.jpg\";\n    const isAuthenticated = computed(() => store.getters.isAuthenticated);\n\n    onMounted(async () => {\n      try {\n        const response = await api.get(\"/services\");\n        services.value = response.data;\n      } catch (err) {\n        error.value = \"No se pudieron cargar los servicios.\";\n      } finally {\n        loading.value = false;\n      }\n    });\n\n    // Redirigir al formulario de solicitud de servicio\n    const redirectToRequestService = (serviceId) => {\n      router.push({ name: \"RequestService\", query: { serviceId } });\n    };\n\n    return {\n      services,\n      loading,\n      error,\n      isAuthenticated,\n      redirectToRequestService,\n      defaultImage,\n    };\n  },\n};\n</script>"],"mappings":"AAkEA,SAASA,QAAQ,EAAEC,GAAG,EAAEC,SAAQ,QAAS,KAAK;AAC9C,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,OAAOC,GAAE,MAAO,kBAAkB;AAClC,OAAOC,MAAK,MAAO,0BAA0B;AAC7C,OAAOC,MAAK,MAAO,0BAA0B;AAE7C,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;IAAEH,MAAM;IAAEC;EAAO,CAAC;EAC9BG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,MAAK,GAAIR,SAAS,CAAC,CAAC;IAC1B,MAAMS,QAAO,GAAIZ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMa,OAAM,GAAIb,GAAG,CAAC,IAAI,CAAC;IACzB,MAAMc,KAAI,GAAId,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMe,YAAW,GAAI,iCAAiC;IACtD,MAAMC,eAAc,GAAIjB,QAAQ,CAAC,MAAMW,KAAK,CAACO,OAAO,CAACD,eAAe,CAAC;IAErEf,SAAS,CAAC,YAAY;MACpB,IAAI;QACF,MAAMiB,QAAO,GAAI,MAAMd,GAAG,CAACe,GAAG,CAAC,WAAW,CAAC;QAC3CP,QAAQ,CAACQ,KAAI,GAAIF,QAAQ,CAACG,IAAI;MAChC,EAAE,OAAOC,GAAG,EAAE;QACZR,KAAK,CAACM,KAAI,GAAI,sCAAsC;MACtD,UAAU;QACRP,OAAO,CAACO,KAAI,GAAI,KAAK;MACvB;IACF,CAAC,CAAC;;IAEF;IACA,MAAMG,wBAAuB,GAAKC,SAAS,IAAK;MAC9Cb,MAAM,CAACc,IAAI,CAAC;QAAElB,IAAI,EAAE,gBAAgB;QAAEmB,KAAK,EAAE;UAAEF;QAAU;MAAE,CAAC,CAAC;IAC/D,CAAC;IAED,OAAO;MACLZ,QAAQ;MACRC,OAAO;MACPC,KAAK;MACLE,eAAe;MACfO,wBAAwB;MACxBR;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}