{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-dark bg-primary fixed-top\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"collapse navbar-collapse\",\n  id: \"navbarNav\"\n};\nconst _hoisted_4 = {\n  class: \"navbar-nav ms-auto\"\n};\nconst _hoisted_5 = {\n  class: \"nav-item\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"nav-item ms-2\"\n};\nconst _hoisted_7 = {\n  key: 2,\n  class: \"nav-item\",\n  \"ms-2\": \"\"\n};\nconst _hoisted_8 = {\n  key: 3,\n  class: \"nav-item dropdown ms-3 d-flex align-items-center\"\n};\nconst _hoisted_9 = {\n  class: \"text-light me-2\"\n};\nconst _hoisted_10 = {\n  class: \"nav-link dropdown-toggle d-flex align-items-center\",\n  href: \"#\",\n  id: \"navbarDropdown\",\n  role: \"button\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_11 = [\"src\"];\nconst _hoisted_12 = {\n  class: \"dropdown-menu dropdown-menu-end position-absolute mt-2\",\n  \"aria-labelledby\": \"navbarDropdown\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    class: \"navbar-brand fw-bold text-uppercase\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Servicios de Lated\")])),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Botón para dispositivos móviles \"), _cache[9] || (_cache[9] = _createElementVNode(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarNav\"\n  }, [_createElementVNode(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })], -1 /* HOISTED */)), _createCommentVNode(\" Contenido del Navbar \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [_createCommentVNode(\" Accesos directos a secciones de Home.vue, ocultos si está en \\\"Servicios Disponibles\\\" \"), !$setup.isServiciosDisponiblesPage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createCommentVNode(\" Accesos directos a secciones de Home.vue \"), _cache[2] || (_cache[2] = _createStaticVNode(\"<li class=\\\"nav-item\\\" data-v-41458b80><a class=\\\"nav-link\\\" href=\\\"#services\\\" data-v-41458b80>Servicios</a></li><li class=\\\"nav-item\\\" data-v-41458b80><a class=\\\"nav-link\\\" href=\\\"#portfolio\\\" data-v-41458b80>Portafolio</a></li><li class=\\\"nav-item\\\" data-v-41458b80><a class=\\\"nav-link\\\" href=\\\"#about\\\" data-v-41458b80>Sobre Nosotros</a></li><li class=\\\"nav-item\\\" data-v-41458b80><a class=\\\"nav-link\\\" href=\\\"#team\\\" data-v-41458b80>Equipo</a></li><li class=\\\"nav-item\\\" data-v-41458b80><a class=\\\"nav-link\\\" href=\\\"#contact\\\" data-v-41458b80>Contacto</a></li>\", 5))], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Icono de casa para ir al Home \"), _createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    class: \"nav-link\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n      class: \"fas fa-home text-white fs-4\"\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" Separador visual correctamente alineado \"), _cache[8] || (_cache[8] = _createElementVNode(\"li\", {\n    class: \"nav-item d-none d-lg-block align-items-center mt-2\"\n  }, [_createElementVNode(\"span\", {\n    class: \"text-white mx-3\"\n  }, \"|\")], -1 /* HOISTED */)), _createCommentVNode(\" Botones de Login y Registro si el usuario NO está autenticado \"), !$setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    class: \"nav-link btn-custom\",\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Accede\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !$setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_7, [_createVNode(_component_router_link, {\n    class: \"nav-link btn-custom\",\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Regístrate\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Menú desplegable si el usuario SÍ está autenticado \"), $setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_8, [_createElementVNode(\"span\", _hoisted_9, \"Bienvenido, \" + _toDisplayString($setup.userName), 1 /* TEXT */), _createElementVNode(\"a\", _hoisted_10, [_createElementVNode(\"img\", {\n    src: $setup.userProfilePicture,\n    alt: \"Foto de Perfil\",\n    class: \"rounded-circle me-2\",\n    width: \"40\",\n    height: \"40\"\n  }, null, 8 /* PROPS */, _hoisted_11)]), _createElementVNode(\"ul\", _hoisted_12, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    class: \"dropdown-item\",\n    to: \"/profile\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"Mi Perfil\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    class: \"dropdown-item\",\n    to: \"/client/services\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Servicios Disponibles\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args))\n  }, \"Cerrar Sesión\")])])])) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["class","id","key","href","role","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_createCommentVNode","type","_hoisted_3","_hoisted_4","$setup","isServiciosDisponiblesPage","_Fragment","_createStaticVNode","_hoisted_5","isAuthenticated","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","userName","_hoisted_10","src","userProfilePicture","alt","width","height","_hoisted_11","_hoisted_12","onClick","args","logout"],"sources":["/Users/macbookpro/project/LatedServices/frontend/src/components/Navbar.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary fixed-top\">\n    <div class=\"container\">\n      <router-link class=\"navbar-brand fw-bold text-uppercase\" to=\"/\">Servicios de Lated</router-link>\n\n      <!-- Botón para dispositivos móviles -->\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <!-- Contenido del Navbar -->\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav ms-auto\">\n\n      <!-- Accesos directos a secciones de Home.vue, ocultos si está en \"Servicios Disponibles\" -->\n      <template v-if=\"!isServiciosDisponiblesPage\">\n\n        <!-- Accesos directos a secciones de Home.vue -->\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"#services\">Servicios</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"#portfolio\">Portafolio</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"#about\">Sobre Nosotros</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\"  href=\"#team\">Equipo</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" href=\"#contact\">Contacto</a></li>\n      </template>\n\n      <!-- Icono de casa para ir al Home -->\n      <li class=\"nav-item\">\n        <router-link class=\"nav-link\" to=\"/\">\n        <i class=\"fas fa-home text-white fs-4\"></i>\n        </router-link>\n      </li>\n\n        <!-- Separador visual correctamente alineado -->\n        <li class=\"nav-item d-none d-lg-block align-items-center mt-2\">\n        <span class=\"text-white mx-3\">|</span>\n        </li>\n\n          <!-- Botones de Login y Registro si el usuario NO está autenticado -->\n          <li class=\"nav-item ms-2\" v-if=\"!isAuthenticated\">\n            <router-link class=\"nav-link btn-custom\" to=\"/login\">Accede</router-link>\n          </li>\n          <li class=\"nav-item\" ms-2 v-if=\"!isAuthenticated\">\n            <router-link class=\"nav-link btn-custom\" to=\"/register\">Regístrate</router-link>\n          </li>\n\n          <!-- Menú desplegable si el usuario SÍ está autenticado -->\n          <li class=\"nav-item dropdown ms-3 d-flex align-items-center\" v-if=\"isAuthenticated\">\n\n            <span class=\"text-light me-2\">Bienvenido, {{ userName }}</span>\n            <a\n              class=\"nav-link dropdown-toggle d-flex align-items-center\"\n              href=\"#\"\n              id=\"navbarDropdown\"\n              role=\"button\"\n              data-bs-toggle=\"dropdown\"\n              aria-expanded=\"false\"\n            >\n              <img\n                :src=\"userProfilePicture\"\n                alt=\"Foto de Perfil\"\n                class=\"rounded-circle me-2\"\n                width=\"40\"\n                height=\"40\"\n              />\n            </a>\n            <ul class=\"dropdown-menu dropdown-menu-end position-absolute mt-2\" aria-labelledby=\"navbarDropdown\">\n              <li><router-link class=\"dropdown-item\" to=\"/profile\">Mi Perfil</router-link></li>\n              <li><router-link class=\"dropdown-item\" to=\"/client/services\">Servicios Disponibles</router-link></li>\n              <li><button class=\"dropdown-item\" @click=\"logout\">Cerrar Sesión</button></li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { computed, onMounted, nextTick } from \"vue\";\nimport { Dropdown } from \"bootstrap\";\nimport defaultProfilePicture from \"@/assets/img/default-profile.jpg\"; // Imagen por defecto\n\nexport default {\n  name: \"Navbar\",\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    // Computed properties para obtener datos del usuario\n    const isAuthenticated = computed(() => store.getters[\"auth/isAuthenticated\"]);\n    const userName = computed(() => store.getters[\"auth/userData\"]?.name || \"Usuario\");\n    const userProfilePicture = computed(() => store.getters[\"auth/userData\"]?.profilePicture || defaultProfilePicture);\n\n    // Computed para determinar si el usuario está en la página de \"Servicios Disponibles\"\n    const isServiciosDisponiblesPage = computed(() => router.currentRoute.value.path === \"/client/services\");\n\n    // Computed para determinar si el usuario está en la página de \"Home\"\n    const isHomePage = computed(() => router.currentRoute.value.path === \"/\");\n\n\n    // Método para cerrar sesión\n    const logout = () => {\n      store.dispatch(\"auth/logout\");\n      router.push(\"/login\");\n    };\n\n    // Inicializar los dropdowns de Bootstrap al montar el componente\n    onMounted(() => {\n      nextTick(() => {\n        const dropdownElement = document.querySelector(\"#navbarDropdown\");\n        const dropdownMenu = document.querySelector(\".dropdown-menu\");\n\n        if (dropdownElement && dropdownMenu) {\n          console.log(\"Dropdown encontrado, inicializando...\");\n          const dropdownInstance = new Dropdown(dropdownElement);\n\n          // Activar y mantener el dropdown visible\n          dropdownElement.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n\n            if (!dropdownMenu.classList.contains(\"show\")) {\n              dropdownMenu.classList.add(\"show\");\n              dropdownMenu.style.display = \"block\";\n              console.log(\"Clase 'show' agregada manualmente.\");\n            } else {\n              dropdownMenu.classList.remove(\"show\");\n              dropdownMenu.style.display = \"none\";\n              console.log(\"Clase 'show' removida.\");\n            }\n\n            console.log(\"Clases actuales del dropdown-menu:\", dropdownMenu.classList);\n          });\n\n          // Cerrar el menú si el usuario hace clic fuera del dropdown\n          document.addEventListener(\"click\", (event) => {\n            if (!dropdownElement.contains(event.target) && !dropdownMenu.contains(event.target)) {\n              dropdownMenu.classList.remove(\"show\");\n              dropdownMenu.style.display = \"none\";\n              console.log(\"Dropdown cerrado al hacer clic fuera.\");\n            }\n          });\n\n          // Cerrar el menú si el usuario hace scroll\n          window.addEventListener(\"scroll\", () => {\n            dropdownMenu.classList.remove(\"show\");\n            dropdownMenu.style.display = \"none\";\n            console.log(\"Dropdown cerrado al hacer scroll.\");\n          });\n\n          // Cerrar el menú si el usuario mueve el cursor fuera del dropdown\n          dropdownMenu.addEventListener(\"mouseleave\", () => {\n            dropdownMenu.classList.remove(\"show\");\n            dropdownMenu.style.display = \"none\";\n            console.log(\"Dropdown cerrado al salir el cursor.\");\n          });\n        } else {\n          console.log(\"El dropdown no fue encontrado en el DOM.\");\n        }\n      });\n\n      if (isAuthenticated.value) {\n        store.dispatch(\"auth/fetchUserData\"); // Obtener datos del usuario\n      }\n    });\n\n    return { isAuthenticated, userName, userProfilePicture, logout, isServiciosDisponiblesPage };\n  },\n};\n</script>\n\n<style scoped>\n.navbar {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.navbar-brand {\n  font-size: 1.5rem;\n  letter-spacing: 1px;\n}\n\n.btn-custom {\n  color:rgb(255, 255, 255);\n  border-radius: 25px;\n  padding: 8px 20px;\n  transition: all 0.3s ease;\n}\n\n.btn-custom:hover {\n  color: rgb(108, 233, 255);\n}\n\n.nav-item {\n  margin-bottom: 10px;\n}\n\n.dropdown-menu {\n  position: absolute !important;\n  top: 50px;\n  left: auto;\n  right: 0;\n  z-index: 1050;\n  display: none;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.3s ease-in-out;\n}\n\n.dropdown-menu.show {\n  display: block !important;\n  opacity: 1;\n  visibility: visible;\n}\n\nimg.rounded-circle {\n  object-fit: cover;\n}\n\n@media (min-width: 768px) {\n  .nav-item {\n    margin-bottom: 0;\n  }\n  .me-3 {\n    margin-right: 10px;\n  }\n  .ms-3 {\n    margin-left: 10px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}