{"ast":null,"code":"import { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { computed, onMounted } from \"vue\";\nimport { Dropdown } from \"bootstrap\";\nimport defaultProfilePicture from \"@/assets/img/default-profile.jpg\"; // Imagen por defecto\n\nexport default {\n  name: \"Navbar\",\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    // Computed properties para obtener datos del usuario\n    const isAuthenticated = computed(() => store.getters[\"auth/isAuthenticated\"]);\n    const userName = computed(() => store.getters[\"auth/userData\"]?.name || \"Usuario\");\n    const userProfilePicture = computed(() => store.getters[\"auth/userData\"]?.profilePicture || defaultProfilePicture);\n\n    // Método para cerrar sesión\n    const logout = () => {\n      store.dispatch(\"auth/logout\");\n      router.push(\"/login\");\n    };\n\n    // Inicializar los dropdowns de Bootstrap al montar el componente\n    onMounted(() => {\n      document.querySelectorAll(\".dropdown-toggle\").forEach(dropdown => {\n        new Dropdown(dropdown);\n      });\n      if (isAuthenticated.value) {\n        store.dispatch(\"auth/fetchUserData\"); // Obtener datos del usuario\n      }\n    });\n    return {\n      isAuthenticated,\n      userName,\n      userProfilePicture,\n      logout\n    };\n  }\n};","map":{"version":3,"names":["useStore","useRouter","computed","onMounted","Dropdown","defaultProfilePicture","name","setup","store","router","isAuthenticated","getters","userName","userProfilePicture","profilePicture","logout","dispatch","push","document","querySelectorAll","forEach","dropdown","value"],"sources":["/Users/macbookpro/project/LatedServices/frontend/src/components/Navbar.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary fixed-top\">\n    <div class=\"container\">\n      <router-link class=\"navbar-brand fw-bold text-uppercase\" to=\"/\">Servicios de Lated</router-link>\n      \n      <!-- Botón para dispositivos móviles -->\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <!-- Contenido del Navbar -->\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav ms-auto\">\n          <!-- Botones de Login y Registro si el usuario NO está autenticado -->\n          <li class=\"nav-item me-3\" v-if=\"!isAuthenticated\">\n            <router-link class=\"nav-link btn-custom\" to=\"/login\">Accede</router-link>\n          </li>\n          <li class=\"nav-item\" v-if=\"!isAuthenticated\">\n            <router-link class=\"nav-link btn-custom\" to=\"/register\">Regístrate</router-link>\n          </li>\n\n          <!-- Menú desplegable si el usuario SÍ está autenticado -->\n          <li class=\"nav-item dropdown ms-3 d-flex align-items-center\" v-if=\"isAuthenticated\">\n            <span class=\"text-light me-2\">Bienvenido, {{ userName }}</span>\n            <a\n              class=\"nav-link dropdown-toggle d-flex align-items-center\"\n              href=\"#\"\n              id=\"navbarDropdown\"\n              role=\"button\"\n              data-bs-toggle=\"dropdown\"\n              aria-expanded=\"false\"\n            >\n              <img\n                :src=\"userProfilePicture\"\n                alt=\"Foto de Perfil\"\n                class=\"rounded-circle me-2\"\n                width=\"40\"\n                height=\"40\"\n              />\n            </a>\n            <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"navbarDropdown\">\n              <li><router-link class=\"dropdown-item\" to=\"/profile\">Mi Perfil</router-link></li>\n              <li><router-link class=\"dropdown-item\" to=\"/client/services\">Servicios Disponibles</router-link></li>\n              <li><button class=\"dropdown-item\" @click=\"logout\">Cerrar Sesión</button></li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { computed, onMounted } from \"vue\";\nimport { Dropdown } from \"bootstrap\";\nimport defaultProfilePicture from \"@/assets/img/default-profile.jpg\"; // Imagen por defecto\n\nexport default {\n  name: \"Navbar\",\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    // Computed properties para obtener datos del usuario\n    const isAuthenticated = computed(() => store.getters[\"auth/isAuthenticated\"]);\n    const userName = computed(() => store.getters[\"auth/userData\"]?.name || \"Usuario\");\n    const userProfilePicture = computed(() => store.getters[\"auth/userData\"]?.profilePicture || defaultProfilePicture);\n\n    // Método para cerrar sesión\n    const logout = () => {\n      store.dispatch(\"auth/logout\");\n      router.push(\"/login\");\n    };\n\n    // Inicializar los dropdowns de Bootstrap al montar el componente\n    onMounted(() => {\n      document.querySelectorAll(\".dropdown-toggle\").forEach((dropdown) => {\n        new Dropdown(dropdown);\n      });\n\n      if (isAuthenticated.value) {\n        store.dispatch(\"auth/fetchUserData\"); // Obtener datos del usuario\n      }\n    });\n\n    return { isAuthenticated, userName, userProfilePicture, logout };\n  },\n};\n</script>\n\n<style scoped>\n.navbar {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.navbar-brand {\n  font-size: 1.5rem;\n  letter-spacing: 1px;\n}\n\n.btn-custom {\n  background-color: #f8f9fa;\n  color: #212529;\n  border-radius: 25px;\n  padding: 8px 20px;\n  transition: all 0.3s ease;\n}\n\n.btn-custom:hover {\n  background-color: #345896;\n  color: rgb(255, 255, 255);\n}\n\n.nav-item {\n  margin-bottom: 10px;\n}\n\n.dropdown-menu {\n  min-width: 200px;\n}\n\nimg.rounded-circle {\n  object-fit: cover;\n}\n\n@media (min-width: 768px) {\n  .nav-item {\n    margin-bottom: 0;\n  }\n  .me-3 {\n    margin-right: 15px;\n  }\n  .ms-3 {\n    margin-left: 15px;\n  }\n}\n</style>\n"],"mappings":"AAqDA,SAASA,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,SAASC,QAAQ,EAAEC,SAAQ,QAAS,KAAK;AACzC,SAASC,QAAO,QAAS,WAAW;AACpC,OAAOC,qBAAoB,MAAO,kCAAkC,EAAE;;AAEtE,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,MAAK,GAAIR,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAMS,eAAc,GAAIR,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAAC,sBAAsB,CAAC,CAAC;IAC7E,MAAMC,QAAO,GAAIV,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAAC,eAAe,CAAC,EAAEL,IAAG,IAAK,SAAS,CAAC;IAClF,MAAMO,kBAAiB,GAAIX,QAAQ,CAAC,MAAMM,KAAK,CAACG,OAAO,CAAC,eAAe,CAAC,EAAEG,cAAa,IAAKT,qBAAqB,CAAC;;IAElH;IACA,MAAMU,MAAK,GAAIA,CAAA,KAAM;MACnBP,KAAK,CAACQ,QAAQ,CAAC,aAAa,CAAC;MAC7BP,MAAM,CAACQ,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;;IAED;IACAd,SAAS,CAAC,MAAM;MACde,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,CAAC,CAACC,OAAO,CAAEC,QAAQ,IAAK;QAClE,IAAIjB,QAAQ,CAACiB,QAAQ,CAAC;MACxB,CAAC,CAAC;MAEF,IAAIX,eAAe,CAACY,KAAK,EAAE;QACzBd,KAAK,CAACQ,QAAQ,CAAC,oBAAoB,CAAC,EAAE;MACxC;IACF,CAAC,CAAC;IAEF,OAAO;MAAEN,eAAe;MAAEE,QAAQ;MAAEC,kBAAkB;MAAEE;IAAO,CAAC;EAClE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}