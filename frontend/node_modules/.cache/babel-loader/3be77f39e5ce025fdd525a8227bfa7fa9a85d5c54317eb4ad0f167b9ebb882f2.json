{"ast":null,"code":"import { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport MaterialSwitch from \"@/components/MaterialSwitch.vue\";\nimport Notification from \"@/components/Notification.vue\";\nexport default {\n  name: \"Login\",\n  components: {\n    Notification,\n    MaterialSwitch\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const form = ref({\n      email: \"\",\n      password: \"\"\n    });\n    const errorMessage = ref(\"\");\n    onMounted(() => {\n      if (store.getters[\"auth/isAuthenticated\"]) {\n        router.push(\"/client/services\");\n      }\n    });\n    const login = async () => {\n      try {\n        await store.dispatch(\"auth/login\", form.value);\n        router.push(\"/client/services\");\n      } catch (err) {\n        errorMessage.value = err.response?.data?.message || \"Error al iniciar sesi√≥n.\";\n\n        // üîπ Limpiar el mensaje despu√©s de 3 segundos para mejor UX\n        setTimeout(() => {\n          errorMessage.value = \"\";\n        }, 3000);\n      }\n    };\n    const goHome = () => {\n      router.push(\"/\");\n    };\n    return {\n      form,\n      errorMessage,\n      login,\n      goHome\n    };\n  }\n};","map":{"version":3,"names":["useStore","useRouter","ref","onMounted","MaterialSwitch","Notification","name","components","setup","store","router","form","email","password","errorMessage","getters","push","login","dispatch","value","err","response","data","message","setTimeout","goHome"],"sources":["/home/lated/LatedServices/frontend/src/views/auth/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-card\">\n      <h2 class=\"login-title\">Accede a tu cuenta</h2>\n      <Notification v-if=\"errorMessage\" type=\"danger\" :message=\"errorMessage\" autoClose duration=\"4000\" />\n      <form @submit.prevent=\"login\">\n        <div class=\"input-group\">\n          <label for=\"email\">Correo Electr√≥nico</label>\n          <input type=\"email\" id=\"email\" v-model=\"form.email\" placeholder=\"Ingrese su correo\" required />\n        </div>\n        <div class=\"input-group\">\n          <label for=\"password\">Contrase√±a</label>\n          <input type=\"password\" id=\"password\" v-model=\"form.password\" placeholder=\"Ingrese su contrase√±a\" required />\n        </div>\n        <material-switch id=\"rememberMe\" name=\"rememberMe\">Recordarme</material-switch>\n        <button type=\"submit\" class=\"login-btn\">Acceder</button>\n        <p class=\"register-link\">\n          ¬øNo tienes una cuenta? <router-link to=\"/register\">Reg√≠strate</router-link>\n        </p>\n      </form>\n      <button @click=\"goHome\" class=\"back-btn\">Volver a Inicio</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport MaterialSwitch from \"@/components/MaterialSwitch.vue\";\nimport Notification from \"@/components/Notification.vue\";\n\nexport default {\n  name: \"Login\",\n  components: { Notification, MaterialSwitch },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const form = ref({ email: \"\", password: \"\" });\n    const errorMessage = ref(\"\");\n\n    onMounted(() => {\n      if (store.getters[\"auth/isAuthenticated\"]) {\n        router.push(\"/client/services\");\n      }\n    });\n\n    const login = async () => {\n      try {\n        await store.dispatch(\"auth/login\", form.value);\n        router.push(\"/client/services\");\n      } catch (err) {\n        errorMessage.value = err.response?.data?.message || \"Error al iniciar sesi√≥n.\";\n\n      // üîπ Limpiar el mensaje despu√©s de 3 segundos para mejor UX\n      setTimeout(() => {\n      errorMessage.value = \"\";\n       }, 3000);\n      }\n    };\n\n    const goHome = () => {\n      router.push(\"/\");\n    };\n\n    return { form, errorMessage, login, goHome };\n  }\n};\n</script>\n\n<style scoped>\n/* Dise√±o modernizado basado en Vue Material Dashboard 2 Laravel */\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background: linear-gradient(135deg, #1e1e2f, #345896);\n}\n\n.login-card {\n  background: rgba(255, 255, 255, 0.9);\n  padding: 30px;\n  border-radius: 12px;\n  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n}\n\n.login-title {\n  font-size: 24px;\n  color: #345896;\n  margin-bottom: 20px;\n  font-weight: bold;\n}\n\n.input-group {\n  margin-bottom: 15px;\n  text-align: left;\n}\n\n.input-group label {\n  font-size: 14px;\n  display: block;\n  margin-bottom: 5px;\n  color: #345896;\n}\n\n.input-group input {\n  width: 100%;\n  padding: 10px;\n  border-radius: 8px;\n  border: 1px solid #ccc;\n  font-size: 16px;\n  transition: 0.3s;\n}\n\n.input-group input:focus {\n  border-color: #345896;\n  outline: none;\n}\n\n.login-btn {\n  width: 100%;\n  padding: 12px;\n  margin-top: 10px;\n  background: #345896;\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  transition: 0.3s;\n  font-weight: bold;\n}\n\n.login-btn:hover {\n  background: #274270;\n}\n\n.register-link {\n  margin-top: 15px;\n  color: #345896;\n  font-weight: bold;\n}\n\n.back-btn {\n  margin-top: 20px;\n  padding: 8px 15px;\n  border: none;\n  border-radius: 8px;\n  background: #e0e0e0;\n  color: #333;\n  cursor: pointer;\n  transition: 0.3s;\n}\n\n.back-btn:hover {\n  background: #cfcfcf;\n}\n</style>\n"],"mappings":"AA0BA,SAASA,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,SAASC,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACpC,OAAOC,cAAa,MAAO,iCAAiC;AAC5D,OAAOC,YAAW,MAAO,+BAA+B;AAExD,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,UAAU,EAAE;IAAEF,YAAY;IAAED;EAAe,CAAC;EAC5CI,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIT,QAAQ,CAAC,CAAC;IACxB,MAAMU,MAAK,GAAIT,SAAS,CAAC,CAAC;IAC1B,MAAMU,IAAG,GAAIT,GAAG,CAAC;MAAEU,KAAK,EAAE,EAAE;MAAEC,QAAQ,EAAE;IAAG,CAAC,CAAC;IAC7C,MAAMC,YAAW,GAAIZ,GAAG,CAAC,EAAE,CAAC;IAE5BC,SAAS,CAAC,MAAM;MACd,IAAIM,KAAK,CAACM,OAAO,CAAC,sBAAsB,CAAC,EAAE;QACzCL,MAAM,CAACM,IAAI,CAAC,kBAAkB,CAAC;MACjC;IACF,CAAC,CAAC;IAEF,MAAMC,KAAI,GAAI,MAAAA,CAAA,KAAY;MACxB,IAAI;QACF,MAAMR,KAAK,CAACS,QAAQ,CAAC,YAAY,EAAEP,IAAI,CAACQ,KAAK,CAAC;QAC9CT,MAAM,CAACM,IAAI,CAAC,kBAAkB,CAAC;MACjC,EAAE,OAAOI,GAAG,EAAE;QACZN,YAAY,CAACK,KAAI,GAAIC,GAAG,CAACC,QAAQ,EAAEC,IAAI,EAAEC,OAAM,IAAK,0BAA0B;;QAEhF;QACAC,UAAU,CAAC,MAAM;UACjBV,YAAY,CAACK,KAAI,GAAI,EAAE;QACtB,CAAC,EAAE,IAAI,CAAC;MACT;IACF,CAAC;IAED,MAAMM,MAAK,GAAIA,CAAA,KAAM;MACnBf,MAAM,CAACM,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,OAAO;MAAEL,IAAI;MAAEG,YAAY;MAAEG,KAAK;MAAEQ;IAAO,CAAC;EAC9C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}