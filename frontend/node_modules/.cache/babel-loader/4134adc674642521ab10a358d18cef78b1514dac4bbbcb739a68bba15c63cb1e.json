{"ast":null,"code":"import axios from \"@/plugins/axios\";\nimport Notification from \"@/components/Notification.vue\";\nimport { useRouter } from \"vue-router\";\nimport { ref } from \"vue\";\nexport default {\n  name: \"Register\",\n  components: {\n    Notification\n  },\n  setup() {\n    const router = useRouter();\n    const form = ref({\n      name: \"\",\n      apellidos: \"\",\n      email: \"\",\n      password: \"\",\n      phone: \"\"\n    });\n    const successMessage = ref(\"\");\n    const errorMessage = ref(\"\");\n    const register = async () => {\n      // Reinicia los mensajes\n      errorMessage.value = \"\";\n      successMessage.value = \"\";\n\n      // Validaciones b√°sicas\n      if (!form.value.name.trim()) {\n        errorMessage.value = \"El nombre es obligatorio.\";\n        return;\n      }\n      if (!form.value.apellidos.trim()) {\n        errorMessage.value = \"Los apellidos son obligatorios.\";\n        return;\n      }\n      if (!form.value.email.trim()) {\n        errorMessage.value = \"El correo electr√≥nico es obligatorio.\";\n        return;\n      }\n      const emailPattern = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\n      if (!emailPattern.test(form.value.email)) {\n        errorMessage.value = \"El correo electr√≥nico no es v√°lido.\";\n        return;\n      }\n      if (!form.value.password.trim()) {\n        errorMessage.value = \"La contrase√±a es obligatoria.\";\n        return;\n      }\n      if (form.value.password.length < 6) {\n        errorMessage.value = \"La contrase√±a debe tener al menos 6 caracteres.\";\n        return;\n      }\n      // üîπ VALIDACI√ìN OBLIGATORIA DEL TEL√âFONO\n      if (!form.value.phone.trim()) {\n        errorMessage.value = \"El n√∫mero de tel√©fono es obligatorio.\";\n        return;\n      }\n      // Validaci√≥n del formato del tel√©fono\n      const phonePattern = /^\\+?[0-9]{8,15}$/;\n      if (!phonePattern.test(form.value.phone.trim())) {\n        errorMessage.value = \"El n√∫mero de tel√©fono no es v√°lido. Debe contener entre 8 y 15 d√≠gitos, con un '+' opcional al inicio.\";\n        return;\n      }\n\n      // Si todo est√° bien, se env√≠a la solicitud de registro\n      try {\n        await axios.post(\"/auth/register\", form.value);\n        successMessage.value = \"Registro exitoso. ¬°Por favor accede!\";\n        errorMessage.value = \"\";\n        // Reiniciar el formulario\n        form.value = {\n          name: \"\",\n          apellidos: \"\",\n          email: \"\",\n          password: \"\",\n          phone: \"\"\n        };\n        // Redirecciona al login despu√©s de 2 segundos\n        setTimeout(() => router.push(\"/login\"), 2000);\n      } catch (err) {\n        errorMessage.value = err.response?.data?.message || \"Error al registrarse.\";\n        successMessage.value = \"\";\n      }\n    };\n    const goHome = () => {\n      router.push(\"/\");\n    };\n    return {\n      form,\n      successMessage,\n      errorMessage,\n      register,\n      goHome\n    };\n  }\n};","map":{"version":3,"names":["axios","Notification","useRouter","ref","name","components","setup","router","form","apellidos","email","password","phone","successMessage","errorMessage","register","value","trim","emailPattern","test","length","phonePattern","post","setTimeout","push","err","response","data","message","goHome"],"sources":["/home/lated/LatedServices/frontend/src/views/auth/Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <div class=\"register-card\">\n      <h2 class=\"register-title\">Crea tu cuenta</h2>\n      <Notification v-if=\"successMessage\" type=\"success\" :message=\"successMessage\" />\n      <Notification v-if=\"errorMessage\" type=\"danger\" :message=\"errorMessage\"autoClose :duration=\"4000\" />\n      <form @submit.prevent=\"register\">\n        <div class=\"input-group\">\n          <label for=\"name\">Nombre</label>\n          <input type=\"text\" id=\"name\" v-model=\"form.name\" placeholder=\"Ingrese su nombre\" required />\n        </div>\n        <div class=\"input-group\">\n          <label for=\"apellidos\">Apellidos</label>\n          <input type=\"text\" id=\"apellidos\" v-model=\"form.apellidos\" placeholder=\"Ingrese sus apellidos\" required />\n        </div>\n        <div class=\"input-group\">\n          <label for=\"email\">Correo Electr√≥nico</label>\n          <input type=\"email\" id=\"email\" v-model=\"form.email\" placeholder=\"Ingrese su correo\" required />\n        </div>\n        <div class=\"input-group\">\n          <label for=\"password\">Contrase√±a</label>\n          <input type=\"password\" id=\"password\" v-model=\"form.password\" placeholder=\"Ingrese su contrase√±a\" required />\n        </div>\n        <div class=\"input-group\">\n          <label for=\"phone\">Tel√©fono</label>\n          <input type=\"tel\" id=\"phone\" v-model=\"form.phone\" placeholder=\"Ingrese su n√∫mero de tel√©fono\" required />\n        </div>\n        <button type=\"submit\" class=\"register-btn\">Registrarse</button>\n        <p class=\"login-link\">\n          ¬øYa tienes una cuenta? <router-link to=\"/login\">Accede</router-link>\n        </p>\n      </form>\n      <button @click=\"goHome\" class=\"back-btn\">Volver a Inicio</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"@/plugins/axios\";\nimport Notification from \"@/components/Notification.vue\";\nimport { useRouter } from \"vue-router\";\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"Register\",\n  components: { Notification },\n  setup() {\n    const router = useRouter();\n    const form = ref({ name: \"\", apellidos: \"\", email: \"\", password: \"\", phone: \"\" });\n    const successMessage = ref(\"\");\n    const errorMessage = ref(\"\");\n\n    const register = async () => {\n      // Reinicia los mensajes\n      errorMessage.value = \"\";\n      successMessage.value = \"\";\n      \n      // Validaciones b√°sicas\n      if (!form.value.name.trim()) {\n        errorMessage.value = \"El nombre es obligatorio.\";\n        return;\n      }\n      if (!form.value.apellidos.trim()) {\n      errorMessage.value = \"Los apellidos son obligatorios.\";\n      return;\n      }\n      if (!form.value.email.trim()) {\n        errorMessage.value = \"El correo electr√≥nico es obligatorio.\";\n        return;\n      }\n      const emailPattern = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\n      if (!emailPattern.test(form.value.email)) {\n        errorMessage.value = \"El correo electr√≥nico no es v√°lido.\";\n        return;\n      }\n      if (!form.value.password.trim()) {\n        errorMessage.value = \"La contrase√±a es obligatoria.\";\n        return;\n      }\n      if (form.value.password.length < 6) {\n        errorMessage.value = \"La contrase√±a debe tener al menos 6 caracteres.\";\n        return;\n      }\n      // üîπ VALIDACI√ìN OBLIGATORIA DEL TEL√âFONO\n      if (!form.value.phone.trim()) {\n      errorMessage.value = \"El n√∫mero de tel√©fono es obligatorio.\";\n      return;\n      }\n      // Validaci√≥n del formato del tel√©fono\n      const phonePattern = /^\\+?[0-9]{8,15}$/;  \n      if (!phonePattern.test(form.value.phone.trim())) {\n      errorMessage.value = \"El n√∫mero de tel√©fono no es v√°lido. Debe contener entre 8 y 15 d√≠gitos, con un '+' opcional al inicio.\";\n      return;\n     }\n\n      // Si todo est√° bien, se env√≠a la solicitud de registro\n      try {\n        await axios.post(\"/auth/register\", form.value);\n        successMessage.value = \"Registro exitoso. ¬°Por favor accede!\";\n        errorMessage.value = \"\";\n        // Reiniciar el formulario\n        form.value = { name: \"\",  apellidos: \"\", email: \"\", password: \"\", phone: \"\" };\n        // Redirecciona al login despu√©s de 2 segundos\n        setTimeout(() => router.push(\"/login\"), 2000);\n      } catch (err) {\n        errorMessage.value = err.response?.data?.message || \"Error al registrarse.\";\n        successMessage.value = \"\";\n      }\n    };\n\n    const goHome = () => {\n      router.push(\"/\");\n    };\n\n    return { form, successMessage, errorMessage, register, goHome };\n  }\n};\n</script>\n\n<style scoped>\n/* Estilo modernizado basado en Vue Material Dashboard 2 */\n.register-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background: linear-gradient(135deg, #1e1e2f, #345896);\n}\n\n.register-card {\n  background: #ffffff;\n  padding: 30px;\n  border-radius: 10px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n  max-width: 400px;\n  width: 100%;\n  text-align: center;\n}\n\n.register-title {\n  font-size: 24px;\n  color: #345896;\n  margin-bottom: 20px;\n  font-weight: bold;\n}\n\n.input-group {\n  margin-bottom: 15px;\n  text-align: left;\n}\n\n.input-group label {\n  font-size: 14px;\n  display: block;\n  margin-bottom: 5px;\n  color: #345896;\n}\n\n.input-group input {\n  width: 100%;\n  padding: 10px;\n  border-radius: 8px;\n  border: 1px solid #ccc;\n  font-size: 16px;\n  transition: 0.3s;\n}\n\n.input-group input:focus {\n  border-color: #345896;\n  outline: none;\n}\n\n.register-btn {\n  width: 100%;\n  padding: 12px;\n  margin-top: 10px;\n  background: #345896;\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  transition: 0.3s;\n  font-weight: bold;\n}\n\n.register-btn:hover {\n  background: #274270;\n}\n\n.login-link {\n  margin-top: 15px;\n  color: #345896;\n  font-weight: bold;\n}\n\n.back-btn {\n  margin-top: 20px;\n  padding: 8px 15px;\n  border: none;\n  border-radius: 8px;\n  background: #e0e0e0;\n  color: #333;\n  cursor: pointer;\n  transition: 0.3s;\n}\n\n.back-btn:hover {\n  background: #cfcfcf;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}