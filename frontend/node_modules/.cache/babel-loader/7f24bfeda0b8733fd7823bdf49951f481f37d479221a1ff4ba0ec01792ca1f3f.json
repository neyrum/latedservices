{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-dark bg-primary fixed-top\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"collapse navbar-collapse\",\n  id: \"navbarNav\"\n};\nconst _hoisted_4 = {\n  class: \"navbar-nav ms-auto\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"nav-item me-3\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"nav-item\"\n};\nconst _hoisted_7 = {\n  class: \"nav-item dropdown ms-3 d-flex align-items-center\"\n};\nconst _hoisted_8 = {\n  class: \"text-light me-2\"\n};\nconst _hoisted_9 = {\n  class: \"nav-link dropdown-toggle d-flex align-items-center\",\n  href: \"#\",\n  id: \"navbarDropdown\",\n  role: \"button\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"dropdown-menu dropdown-menu-end\",\n  \"aria-labelledby\": \"navbarDropdown\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    class: \"navbar-brand fw-bold text-uppercase\",\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Servicios de Lated\")])),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" Botón para dispositivos móviles \"), _cache[6] || (_cache[6] = _createElementVNode(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarNav\"\n  }, [_createElementVNode(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })], -1 /* HOISTED */)), _createCommentVNode(\" Contenido del Navbar \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [_createCommentVNode(\" Botones de Login y Registro si el usuario NO está autenticado \"), !$setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    class: \"nav-link btn-custom\",\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Accede\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), !$setup.isAuthenticated ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    class: \"nav-link btn-custom\",\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Regístrate\")])),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Menú desplegable si el usuario SÍ está autenticado \"), _withDirectives(_createElementVNode(\"li\", _hoisted_7, [_createElementVNode(\"span\", _hoisted_8, \"Bienvenido, \" + _toDisplayString($setup.userName), 1 /* TEXT */), _createElementVNode(\"a\", _hoisted_9, [_createElementVNode(\"img\", {\n    src: $setup.userProfilePicture,\n    alt: \"Foto de Perfil\",\n    class: \"rounded-circle me-2\",\n    width: \"40\",\n    height: \"40\"\n  }, null, 8 /* PROPS */, _hoisted_10)]), _createElementVNode(\"ul\", _hoisted_11, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    class: \"dropdown-item\",\n    to: \"/profile\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Mi Perfil\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    class: \"dropdown-item\",\n    to: \"/client/services\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Servicios Disponibles\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    class: \"dropdown-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args))\n  }, \"Cerrar Sesión\")])])], 512 /* NEED_PATCH */), [[_vShow, $setup.isAuthenticated]])])])])]);\n}","map":{"version":3,"names":["class","id","key","href","role","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_createCommentVNode","type","_hoisted_3","_hoisted_4","$setup","isAuthenticated","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","userName","_hoisted_9","src","userProfilePicture","alt","width","height","_hoisted_10","_hoisted_11","onClick","args","logout"],"sources":["/Users/macbookpro/project/LatedServices/frontend/src/components/Navbar.vue"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary fixed-top\">\n    <div class=\"container\">\n      <router-link class=\"navbar-brand fw-bold text-uppercase\" to=\"/\">Servicios de Lated</router-link>\n\n      <!-- Botón para dispositivos móviles -->\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <!-- Contenido del Navbar -->\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav ms-auto\">\n          <!-- Botones de Login y Registro si el usuario NO está autenticado -->\n          <li class=\"nav-item me-3\" v-if=\"!isAuthenticated\">\n            <router-link class=\"nav-link btn-custom\" to=\"/login\">Accede</router-link>\n          </li>\n          <li class=\"nav-item\" v-if=\"!isAuthenticated\">\n            <router-link class=\"nav-link btn-custom\" to=\"/register\">Regístrate</router-link>\n          </li>\n\n          <!-- Menú desplegable si el usuario SÍ está autenticado -->\n          <li class=\"nav-item dropdown ms-3 d-flex align-items-center\" v-show=\"isAuthenticated\">\n            <span class=\"text-light me-2\">Bienvenido, {{ userName }}</span>\n            <a\n              class=\"nav-link dropdown-toggle d-flex align-items-center\"\n              href=\"#\"\n              id=\"navbarDropdown\"\n              role=\"button\"\n              data-bs-toggle=\"dropdown\"\n              aria-expanded=\"false\"\n            >\n              <img\n                :src=\"userProfilePicture\"\n                alt=\"Foto de Perfil\"\n                class=\"rounded-circle me-2\"\n                width=\"40\"\n                height=\"40\"\n              />\n            </a>\n            <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"navbarDropdown\">\n              <li><router-link class=\"dropdown-item\" to=\"/profile\">Mi Perfil</router-link></li>\n              <li><router-link class=\"dropdown-item\" to=\"/client/services\">Servicios Disponibles</router-link></li>\n              <li><button class=\"dropdown-item\" @click=\"logout\">Cerrar Sesión</button></li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { computed, onMounted, nextTick } from \"vue\";\nimport { Dropdown } from \"bootstrap\";\nimport defaultProfilePicture from \"@/assets/img/default-profile.jpg\"; // Imagen por defecto\n\nexport default {\n  name: \"Navbar\",\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n\n    // Computed properties para obtener datos del usuario\n    const isAuthenticated = computed(() => store.getters[\"auth/isAuthenticated\"]);\n    const userName = computed(() => store.getters[\"auth/userData\"]?.name || \"Usuario\");\n    const userProfilePicture = computed(() => store.getters[\"auth/userData\"]?.profilePicture || defaultProfilePicture);\n\n    // Método para cerrar sesión\n    const logout = () => {\n      store.dispatch(\"auth/logout\");\n      router.push(\"/login\");\n    };\n\n    // Inicializar los dropdowns de Bootstrap al montar el componente\n    onMounted(() => {\n      nextTick(() => {\n        const dropdownElement = document.querySelector(\"#navbarDropdown\");\n        const dropdownMenu = document.querySelector(\".dropdown-menu\");\n\n        if (dropdownElement && dropdownMenu) {\n          console.log(\"Dropdown encontrado, inicializando...\");\n          const dropdownInstance = new Dropdown(dropdownElement);\n\n          // Escuchar clic en el dropdown para activarlo manualmente\n          dropdownElement.addEventListener(\"click\", (event) => {\n            event.preventDefault();\n            dropdownInstance.toggle();\n\n            // Verificar si la clase \"show\" no está presente y agregarla manualmente\n            if (!dropdownMenu.classList.contains(\"show\")) {\n              dropdownMenu.classList.add(\"show\");\n              dropdownMenu.style.display = \"block\";\n              console.log(\"Clase 'show' agregada manualmente.\");\n            } else {\n              dropdownMenu.classList.remove(\"show\");\n              dropdownMenu.style.display = \"none\";\n              console.log(\"Clase 'show' removida.\");\n            }\n\n            console.log(\"Clases actuales del dropdown-menu:\", dropdownMenu.classList);\n          });\n        } else {\n          console.log(\"El dropdown no fue encontrado en el DOM.\");\n        }\n      });\n\n      if (isAuthenticated.value) {\n        store.dispatch(\"auth/fetchUserData\"); // Obtener datos del usuario\n      }\n    });\n\n    return { isAuthenticated, userName, userProfilePicture, logout };\n  },\n};\n</script>\n\n<style scoped>\n.navbar {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.navbar-brand {\n  font-size: 1.5rem;\n  letter-spacing: 1px;\n}\n\n.btn-custom {\n  background-color: #f8f9fa;\n  color: #212529;\n  border-radius: 25px;\n  padding: 8px 20px;\n  transition: all 0.3s ease;\n}\n\n.btn-custom:hover {\n  background-color: #345896;\n  color: rgb(255, 255, 255);\n}\n\n.nav-item {\n  margin-bottom: 10px;\n}\n\n.dropdown-menu {\n  min-width: 200px;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.3s ease-in-out;\n}\n\n.dropdown.show .dropdown-menu {\n  opacity: 1;\n  visibility: visible;\n}\n\nimg.rounded-circle {\n  object-fit: cover;\n}\n\n@media (min-width: 768px) {\n  .nav-item {\n    margin-bottom: 0;\n  }\n  .me-3 {\n    margin-right: 15px;\n  }\n  .ms-3 {\n    margin-left: 15px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}