{"ast":null,"code":"import { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport Notification from \"@/components/Notification.vue\";\nexport default {\n  name: \"Login\",\n  components: {\n    Notification\n  },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const form = ref({\n      email: \"\",\n      password: \"\"\n    });\n    const errorMessage = ref(\"\");\n\n    // Redirigir si el usuario ya está autenticado\n    onMounted(() => {\n      if (store.getters[\"auth/isAuthenticated\"]) {\n        router.push(\"/client/services\");\n      }\n    });\n    const login = async () => {\n      try {\n        await store.dispatch(\"auth/login\", form.value); // Nota el prefijo \"auth/\"\n        router.push(\"/client/services\"); // Redirige después de iniciar sesión\n      } catch (err) {\n        errorMessage.value = err.response?.data?.message || \"Error al iniciar sesión.\";\n      }\n    };\n    const goHome = () => {\n      router.push(\"/\"); // Redirige a la página de inicio\n    };\n    return {\n      form,\n      errorMessage,\n      login,\n      goHome\n    };\n  }\n};","map":{"version":3,"names":["useStore","useRouter","ref","onMounted","Notification","name","components","setup","store","router","form","email","password","errorMessage","getters","push","login","dispatch","value","err","response","data","message","goHome"],"sources":["/home/lated/LatedServices/frontend/src/views/auth/Login.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <h2 class=\"mb-4\">Accede a tu cuenta</h2>\n    <Notification v-if=\"errorMessage\" type=\"danger\" :message=\"errorMessage\" />\n    <form @submit.prevent=\"login\">\n      <div class=\"form-group\">\n        <label for=\"email\">Correo Electrónico</label>\n        <input\n          type=\"email\"\n          class=\"form-control\"\n          id=\"email\"\n          v-model=\"form.email\"\n          placeholder=\"Ingrese su correo\"\n          required\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"password\">Contraseña</label>\n        <input\n          type=\"password\"\n          class=\"form-control\"\n          id=\"password\"\n          v-model=\"form.password\"\n          placeholder=\"Ingrese su contraseña\"\n          required\n        />\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary\">Acceder</button>\n      <p class=\"mt-3\">\n        ¿No tienes una cuenta? <router-link to=\"/register\">Regístrate</router-link>\n      </p>\n    </form>\n\n    <!-- Botón para volver a la página principal -->\n    <button @click=\"goHome\" class=\"btn btn-secondary mt-3\">Volver a Inicio</button>\n  </div>\n</template>\n\n<script>\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport Notification from \"@/components/Notification.vue\";\n\nexport default {\n  name: \"Login\",\n  components: { Notification },\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const form = ref({ email: \"\", password: \"\" });\n    const errorMessage = ref(\"\");\n\n    // Redirigir si el usuario ya está autenticado\n    onMounted(() => {\n      if (store.getters[\"auth/isAuthenticated\"]) {\n        router.push(\"/client/services\");\n      }\n    });\n\n    const login = async () => {\n      try {\n        await store.dispatch(\"auth/login\", form.value); // Nota el prefijo \"auth/\"\n        router.push(\"/client/services\"); // Redirige después de iniciar sesión\n      } catch (err) {\n        errorMessage.value = err.response?.data?.message || \"Error al iniciar sesión.\";\n      }\n    };\n\n    const goHome = () => {\n      router.push(\"/\"); // Redirige a la página de inicio\n    };\n\n    return { form, errorMessage, login, goHome };\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 500px;\n}\n\n/* Espaciado y diseño del botón de regreso */\n.btn-secondary {\n  display: block;\n  width: max-content;\n  margin: 20px auto;\n  padding: 8px 20px;\n  font-size: 16px;\n  border-radius: 25px;\n  transition: all 0.3s ease;\n}\n\n.btn-secondary:hover {\n  background-color: #345896;\n  color: rgb(255, 255, 255);\n}\n</style>"],"mappings":"AAuCA,SAASA,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AACtC,SAASC,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACpC,OAAOC,YAAW,MAAO,+BAA+B;AAExD,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,UAAU,EAAE;IAAEF;EAAa,CAAC;EAC5BG,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIR,QAAQ,CAAC,CAAC;IACxB,MAAMS,MAAK,GAAIR,SAAS,CAAC,CAAC;IAC1B,MAAMS,IAAG,GAAIR,GAAG,CAAC;MAAES,KAAK,EAAE,EAAE;MAAEC,QAAQ,EAAE;IAAG,CAAC,CAAC;IAC7C,MAAMC,YAAW,GAAIX,GAAG,CAAC,EAAE,CAAC;;IAE5B;IACAC,SAAS,CAAC,MAAM;MACd,IAAIK,KAAK,CAACM,OAAO,CAAC,sBAAsB,CAAC,EAAE;QACzCL,MAAM,CAACM,IAAI,CAAC,kBAAkB,CAAC;MACjC;IACF,CAAC,CAAC;IAEF,MAAMC,KAAI,GAAI,MAAAA,CAAA,KAAY;MACxB,IAAI;QACF,MAAMR,KAAK,CAACS,QAAQ,CAAC,YAAY,EAAEP,IAAI,CAACQ,KAAK,CAAC,EAAE;QAChDT,MAAM,CAACM,IAAI,CAAC,kBAAkB,CAAC,EAAE;MACnC,EAAE,OAAOI,GAAG,EAAE;QACZN,YAAY,CAACK,KAAI,GAAIC,GAAG,CAACC,QAAQ,EAAEC,IAAI,EAAEC,OAAM,IAAK,0BAA0B;MAChF;IACF,CAAC;IAED,MAAMC,MAAK,GAAIA,CAAA,KAAM;MACnBd,MAAM,CAACM,IAAI,CAAC,GAAG,CAAC,EAAE;IACpB,CAAC;IAED,OAAO;MAAEL,IAAI;MAAEG,YAAY;MAAEG,KAAK;MAAEO;IAAO,CAAC;EAC9C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}