{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"content\"\n};\nconst _hoisted_2 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"alert alert-danger\",\n  role: \"alert\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"text-center\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"alert alert-info\",\n  role: \"alert\"\n};\nconst _hoisted_6 = {\n  key: 3,\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"card h-100\"\n};\nconst _hoisted_8 = {\n  class: \"card-body d-flex flex-column\"\n};\nconst _hoisted_9 = {\n  class: \"card-title\"\n};\nconst _hoisted_10 = {\n  class: \"card-text\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"card-text\"\n};\nconst _hoisted_12 = {\n  class: \"mt-auto text-center\"\n};\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = {\n  class: \"modal fade\",\n  id: \"confirmationModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"confirmationModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_15 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_16 = {\n  class: \"modal-content\"\n};\nconst _hoisted_17 = {\n  class: \"modal-body\"\n};\nconst _hoisted_18 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_19 = {\n  class: \"modal fade\",\n  id: \"requestFormModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"requestFormModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_20 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_21 = {\n  class: \"modal-content\"\n};\nconst _hoisted_22 = {\n  class: \"modal-body\"\n};\nconst _hoisted_23 = {\n  class: \"form-group\"\n};\nconst _hoisted_24 = {\n  key: 0,\n  class: \"text-danger\"\n};\nconst _hoisted_25 = {\n  class: \"form-group\"\n};\nconst _hoisted_26 = {\n  class: \"form-group\"\n};\nconst _hoisted_27 = {\n  class: \"form-group\"\n};\nconst _hoisted_28 = {\n  class: \"form-group mt-3\"\n};\nconst _hoisted_29 = {\n  class: \"form-group mt-3\"\n};\nconst _hoisted_30 = [\"disabled\"];\nconst _hoisted_31 = {\n  key: 4,\n  class: \"mt-5\"\n};\nconst _hoisted_32 = {\n  class: \"list-group\"\n};\nconst _hoisted_33 = {\n  class: \"badge bg-primary\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_Navbar), _createElementVNode(\"div\", _hoisted_2, [_cache[21] || (_cache[21] = _createElementVNode(\"h2\", {\n    class: \"mb-4 text-center\"\n  }, \"Servicios Disponibles\", -1 /* HOISTED */)), _createCommentVNode(\" Mensaje de error \"), $data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Mensaje de carga \"), $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _cache[8] || (_cache[8] = [_createElementVNode(\"p\", null, \"Cargando servicios...\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Mensaje cuando no hay servicios \"), !$data.isLoading && $data.services.length === 0 && !$data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" No tenemos servicios disponibles en este momento. \")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lista de servicios \"), !$data.isLoading && $data.services.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.services, service => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: service.id,\n      class: \"col-md-4 mb-4\"\n    }, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h5\", _hoisted_9, _toDisplayString(service.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, _toDisplayString(service.description), 1 /* TEXT */), _createCommentVNode(\" Precio, si existe \"), service.price ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Precio:\", -1 /* HOISTED */)), _createTextVNode(\" $\" + _toDisplayString(service.price), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Botón de solicitud, siempre abajo \"), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n      class: \"btn btn-primary btn-sm rounded-pill shadow-sm\",\n      onClick: $event => $options.openConfirmationModal(service)\n    }, \" Solicitar Servicio \", 8 /* PROPS */, _hoisted_13)])])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal de Confirmación \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n    class: \"modal-header\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"modal-title\",\n    id: \"confirmationModalLabel\"\n  }, \"Confirmar Solicitud\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_17, \" ¿Estás seguro de que deseas solicitar el servicio \\\"\" + _toDisplayString($data.selectedService?.name) + \"\\\"? \", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_18, [_cache[10] || (_cache[10] = _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    \"data-bs-dismiss\": \"modal\"\n  }, \" Cancelar \", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.openRequestForm && $options.openRequestForm(...args))\n  }, \" Sí, Solicitar \")])])])]), _createCommentVNode(\" Modal del Formulario \"), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"modal-header\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"modal-title\",\n    id: \"requestFormModalLabel\"\n  }, \"Formulario de Solicitud\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers((...args) => $options.submitRequest && $options.submitRequest(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_23, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Descripción\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"description\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.description = $event),\n    class: \"form-control\",\n    rows: \"4\",\n    placeholder: \"Describe el servicio que necesitas\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.description]]), $data.errors.description ? (_openBlock(), _createElementBlock(\"span\", _hoisted_24, _toDisplayString($data.errors.description), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_25, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    for: \"priority\"\n  }, \"Prioridad\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"priority\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.priority = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, _cache[13] || (_cache[13] = [_createElementVNode(\"option\", {\n    value: \"low\"\n  }, \"Baja\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"medium\"\n  }, \"Media\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"high\"\n  }, \"Alta\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.form.priority]])]), _createElementVNode(\"div\", _hoisted_26, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    for: \"preferredDate\"\n  }, \"Fecha Preferida\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"preferredDate\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.form.preferredDate = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.preferredDate]])]), _createCommentVNode(\" Campo para Calle \"), _createElementVNode(\"div\", _hoisted_27, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    for: \"street\"\n  }, \"Calle\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"street\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.form.street = $event),\n    class: \"form-control\",\n    placeholder: \"Ingresa la calle\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.street]])]), _createCommentVNode(\" Campo para Ciudad \"), _createElementVNode(\"div\", _hoisted_28, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    for: \"city\"\n  }, \"Ciudad\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"city\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.form.city = $event),\n    class: \"form-control\",\n    placeholder: \"Ingresa la ciudad\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.city]])]), _createCommentVNode(\" Campo para Código Postal \"), _createElementVNode(\"div\", _hoisted_29, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    for: \"zip\"\n  }, \"Código Postal\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"zip\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.form.zip = $event),\n    class: \"form-control\",\n    placeholder: \"Ingresa el código postal\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.zip]])]), _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary mt-3\",\n    disabled: $data.isSubmitting\n  }, _toDisplayString($data.isSubmitting ? \"Enviando...\" : \"Enviar Solicitud\"), 9 /* TEXT, PROPS */, _hoisted_30)], 32 /* NEED_HYDRATION */)])])])]), _createCommentVNode(\" Lista de Servicios Solicitados \"), $data.requestedServices.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_cache[20] || (_cache[20] = _createElementVNode(\"h3\", {\n    class: \"mb-4\"\n  }, \"Servicios Solicitados\", -1 /* HOISTED */)), _createElementVNode(\"ul\", _hoisted_32, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.requestedServices, request => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: request.id,\n      class: \"list-group-item d-flex justify-content-between align-items-center\"\n    }, [_createElementVNode(\"span\", null, _toDisplayString(request.serviceName), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_33, _toDisplayString(request.status), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","key","role","id","tabindex","_createElementBlock","_hoisted_1","_createVNode","_component_Navbar","_createElementVNode","_hoisted_2","_createCommentVNode","$data","errorMessage","_hoisted_3","_toDisplayString","isLoading","_hoisted_4","_cache","services","length","_hoisted_5","_hoisted_6","_Fragment","_renderList","service","_hoisted_7","_hoisted_8","_hoisted_9","name","_hoisted_10","description","price","_hoisted_11","_createTextVNode","_hoisted_12","onClick","$event","$options","openConfirmationModal","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","type","_hoisted_17","selectedService","_hoisted_18","args","openRequestForm","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","onSubmit","_withModifiers","submitRequest","_hoisted_23","for","form","rows","placeholder","required","errors","_hoisted_24","_hoisted_25","priority","value","_hoisted_26","preferredDate","_hoisted_27","street","_hoisted_28","city","_hoisted_29","zip","disabled","isSubmitting","_hoisted_30","requestedServices","_hoisted_31","_hoisted_32","request","serviceName","_hoisted_33","status"],"sources":["/home/lated/LatedServices/frontend/src/views/client/AvailableServices.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <Navbar />\n    <div class=\"container mt-5\">\n      <h2 class=\"mb-4 text-center\">Servicios Disponibles</h2>\n\n      <!-- Mensaje de error -->\n      <div v-if=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\">\n        {{ errorMessage }}\n      </div>\n\n      <!-- Mensaje de carga -->\n      <div v-if=\"isLoading\" class=\"text-center\">\n        <p>Cargando servicios...</p>\n      </div>\n\n      <!-- Mensaje cuando no hay servicios -->\n      <div v-if=\"!isLoading && services.length === 0 && !errorMessage\" class=\"alert alert-info\" role=\"alert\">\n        No tenemos servicios disponibles en este momento.\n      </div>\n\n      <!-- Lista de servicios -->\n      <div v-if=\"!isLoading && services.length > 0\" class=\"row\">\n        <div v-for=\"service in services\" :key=\"service.id\" class=\"col-md-4 mb-4\">\n          <div class=\"card h-100\">\n            <div class=\"card-body d-flex flex-column\">\n              <h5 class=\"card-title\">{{ service.name }}</h5>\n              <p class=\"card-text\">{{ service.description }}</p>\n              \n              <!-- Precio, si existe -->\n              <p v-if=\"service.price\" class=\"card-text\">\n                <strong>Precio:</strong> ${{ service.price }}\n              </p>\n\n              <!-- Botón de solicitud, siempre abajo -->\n              <div class=\"mt-auto text-center\">\n                <button class=\"btn btn-primary btn-sm rounded-pill shadow-sm\" @click=\"openConfirmationModal(service)\">\n                  Solicitar Servicio\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Modal de Confirmación -->\n      <div\n        class=\"modal fade\"\n        id=\"confirmationModal\"\n        tabindex=\"-1\"\n        aria-labelledby=\"confirmationModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"confirmationModalLabel\">Confirmar Solicitud</h5>\n              <button\n                type=\"button\"\n                class=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div class=\"modal-body\">\n              ¿Estás seguro de que deseas solicitar el servicio \"{{ selectedService?.name }}\"?\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n                Cancelar\n              </button>\n              <button type=\"button\" class=\"btn btn-primary\" @click=\"openRequestForm\">\n                Sí, Solicitar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Modal del Formulario -->\n      <div\n        class=\"modal fade\"\n        id=\"requestFormModal\"\n        tabindex=\"-1\"\n        aria-labelledby=\"requestFormModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\" id=\"requestFormModalLabel\">Formulario de Solicitud</h5>\n              <button\n                type=\"button\"\n                class=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div class=\"modal-body\">\n              <form @submit.prevent=\"submitRequest\">\n                <div class=\"form-group\">\n                  <label for=\"description\">Descripción</label>\n                  <textarea\n                    id=\"description\"\n                    v-model=\"form.description\"\n                    class=\"form-control\"\n                    rows=\"4\"\n                    placeholder=\"Describe el servicio que necesitas\"\n                    required\n                  ></textarea>\n                  <span v-if=\"errors.description\" class=\"text-danger\">{{ errors.description }}</span>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"priority\">Prioridad</label>\n                  <select\n                    id=\"priority\"\n                    v-model=\"form.priority\"\n                    class=\"form-control\"\n                    required\n                  >\n                    <option value=\"low\">Baja</option>\n                    <option value=\"medium\">Media</option>\n                    <option value=\"high\">Alta</option>\n                  </select>\n                </div>\n                \n                <div class=\"form-group\">\n                <label for=\"preferredDate\">Fecha Preferida</label>\n                <input type=\"date\" id=\"preferredDate\" v-model=\"form.preferredDate\" class=\"form-control\" required />\n                </div>\n\n                <!-- Campo para Calle -->\n              <div class=\"form-group\">\n              <label for=\"street\">Calle</label>\n              <input type=\"text\"id=\"street\" v-model=\"form.street\"class=\"form-control\" placeholder=\"Ingresa la calle\" required />\n              </div>\n\n              <!-- Campo para Ciudad -->\n             <div class=\"form-group mt-3\">\n             <label for=\"city\">Ciudad</label>\n             <input type=\"text\" id=\"city\" v-model=\"form.city\" class=\"form-control\" placeholder=\"Ingresa la ciudad\" required />\n              </div>\n\n              <!-- Campo para Código Postal -->\n              <div class=\"form-group mt-3\">\n              <label for=\"zip\">Código Postal</label>\n              <input type=\"text\" id=\"zip\" v-model=\"form.zip\" class=\"form-control\" placeholder=\"Ingresa el código postal\" required />\n              </div>\n\n                <button\n                  type=\"submit\"\n                  class=\"btn btn-primary mt-3\"\n                  :disabled=\"isSubmitting\"\n                >\n                  {{ isSubmitting ? \"Enviando...\" : \"Enviar Solicitud\" }}\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Lista de Servicios Solicitados -->\n      <div v-if=\"requestedServices.length > 0\" class=\"mt-5\">\n        <h3 class=\"mb-4\">Servicios Solicitados</h3>\n        <ul class=\"list-group\">\n          <li\n            v-for=\"request in requestedServices\"\n            :key=\"request.id\"\n            class=\"list-group-item d-flex justify-content-between align-items-center\"\n          >\n            <span>{{ request.serviceName }}</span>\n            <span class=\"badge bg-primary\">{{ request.status }}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"@/plugins/axios\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport \"bootstrap/dist/js/bootstrap.bundle.min.js\";\nimport defaultProfile from '@/assets/img/default-profile.jpg';\n\nexport default {\n  name: \"AvailableServices\",\n  components: { Navbar },\n  data() {\n    return {\n      services: [],\n      requestedServices: [],\n      selectedService: null,\n      form: {\n        description: \"\",\n        priority: \"medium\",\n        preferredDate: \"\", \n        street: \"\",\n        city: \"\",\n        zip: \"\",\n      },\n      errors: {},\n      errorMessage: \"\",\n      isLoading: true,\n      isSubmitting: false,\n    };\n  },\n  async created() {\n    await this.fetchServices();\n  },\n  methods: {\n    async fetchServices() {\n      this.isLoading = true;\n      try {\n        const response = await axios.get(\"/services\");\n        this.services = response.data;\n      } catch (error) {\n        this.errorMessage = error.response?.data?.message || \"Error al cargar los servicios.\";\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    openConfirmationModal(service) {\n      this.selectedService = service;\n      const modal = new bootstrap.Modal(document.getElementById(\"confirmationModal\"));\n      modal.show();\n    },\n    openRequestForm() {\n      const confirmationModal = bootstrap.Modal.getInstance(document.getElementById(\"confirmationModal\"));\n      confirmationModal.hide();\n\n      const requestFormModal = new bootstrap.Modal(document.getElementById(\"requestFormModal\"));\n      requestFormModal.show();\n    },\n\n    // Método de validación del formulario\n    validateForm() {\n      // Reiniciar errores\n      this.errors = {};\n\n      // Validar la descripción (mínimo 10 caracteres)\n      if (!this.form.description || this.form.description.trim().length < 10) {\n        this.errors.description = \"La descripción debe tener al menos 10 caracteres.\";\n      }\n\n      // Validar el campo de prioridad (aunque el select tiene required, se valida por precaución)\n      if (!this.form.priority) {\n        this.errors.priority = \"La prioridad es obligatoria.\";\n      }\n\n      // Validar la fecha preferida\n      if (!this.form.preferredDate) {\n        this.errors.preferredDate = \"La fecha preferida es obligatoria.\";\n      }\n\n      // Validar campos de dirección\n      if (!this.form.street || !this.form.street.trim()) {\n        this.errors.street = \"La calle es obligatoria.\";\n      }\n      if (!this.form.city || !this.form.city.trim()) {\n        this.errors.city = \"La ciudad es obligatoria.\";\n      }\n      if (!this.form.zip || !this.form.zip.trim()) {\n        this.errors.zip = \"El código postal es obligatorio.\";\n      }\n\n      // Si no hay propiedades en el objeto errors, retorna true\n      return Object.keys(this.errors).length === 0;\n    },\n    async submitRequest() {\n      // Primero, valida el formulario\n      if (!this.validateForm()) {\n        return; // Si hay errores, no se envía la solicitud\n      }\n      \n      this.isSubmitting = true;\n\n      // Obtener el rol del usuario desde Vuex (usar this.$store)\n      const userData = this.$store.getters[\"auth/userData\"];\n      const userRole = userData ? userData.role : undefined;\n      console.log(\"Rol del usuario:\", userRole);\n\n      // Validar que el usuario tenga permisos para solicitar el servicio\n      if (userRole !== \"client\") {\n        alert(\"No tienes permisos para solicitar un servicio.\");\n        this.isSubmitting = false;\n        return;\n      }\n\n      // Construir el objeto address a partir de los nuevos campos\n      const addressObj = {\n       street: this.form.street.trim(),\n       city: this.form.city.trim(),\n       zip: this.form.zip.trim(),\n  };\n\n      try { \n        \n        console.log(\"Solicitud enviada:\", {\n          serviceId: this.selectedService.id,\n          details: this.form.description,\n          priority: this.form.priority,\n          preferredDate: this.form.preferredDate,\n          address: addressObj,\n          status: \"pendiente\",\n        });\n\n        const response = await axios.post(\n          \"/requests\",\n          {\n            serviceId: this.selectedService.id,\n            details: this.form.description,\n            priority: this.form.priority,\n            preferredDate: this.form.preferredDate,\n            address: addressObj,\n            status: \"pendiente\",\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$store.getters[\"auth/token\"]}`,\n            },\n          }\n        );\n\n        this.requestedServices.push({\n          id: response.data.id,\n          serviceName: this.selectedService.name,\n          status: \"Pendiente\",\n        });\n\n        // Reiniciar el formulario\n        this.form.description = \"\";\n        this.form.priority = \"medium\";\n        this.form.preferredDate = \"\";\n        this.form.street = \"\";\n        this.form.city = \"\";\n        this.form.zip = \"\";\n\n        const requestFormModal = bootstrap.Modal.getInstance(document.getElementById(\"requestFormModal\"));\n        requestFormModal.hide();\n      } catch (error) {\n        console.log(\"Error Response:\", error.response);\n        this.errorMessage = error.response?.data?.message || \"Error al enviar la solicitud.\";\n      } finally {\n        this.isSubmitting = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.content {\n  margin-top: 70px;\n}\n.container {\n  max-width: 1200px;\n}\n.card {\n  border-radius: 0.25rem;\n  transition: transform 0.2s;\n}\n.card:hover {\n  transform: translateY(-5px);\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAS;;EAEbA,KAAK,EAAC;AAAgB;;EAH/BC,GAAA;EAO+BD,KAAK,EAAC,oBAAoB;EAACE,IAAI,EAAC;;;EAP/DD,GAAA;EAY4BD,KAAK,EAAC;;;EAZlCC,GAAA;EAiBuED,KAAK,EAAC,kBAAkB;EAACE,IAAI,EAAC;;;EAjBrGD,GAAA;EAsBoDD,KAAK,EAAC;;;EAE3CA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAA8B;;EACnCA,KAAK,EAAC;AAAY;;EACnBA,KAAK,EAAC;AAAW;;EA3BlCC,GAAA;EA8BsCD,KAAK,EAAC;;;EAKzBA,KAAK,EAAC;AAAqB;oBAnC9C;;EA+CQA,KAAK,EAAC,YAAY;EAClBG,EAAE,EAAC,mBAAmB;EACtBC,QAAQ,EAAC,IAAI;EACb,iBAAe,EAAC,wBAAwB;EACxC,aAAW,EAAC;;;EAEPJ,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAe;;EAUnBA,KAAK,EAAC;AAAY;;EAGlBA,KAAK,EAAC;AAAc;;EAc7BA,KAAK,EAAC,YAAY;EAClBG,EAAE,EAAC,kBAAkB;EACrBC,QAAQ,EAAC,IAAI;EACb,iBAAe,EAAC,uBAAuB;EACvC,aAAW,EAAC;;;EAEPJ,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAe;;EAUnBA,KAAK,EAAC;AAAY;;EAEdA,KAAK,EAAC;AAAY;;EApGvCC,GAAA;EA8GkDD,KAAK,EAAC;;;EAEnCA,KAAK,EAAC;AAAY;;EAclBA,KAAK,EAAC;AAAY;;EAMpBA,KAAK,EAAC;AAAY;;EAMnBA,KAAK,EAAC;AAAiB;;EAMtBA,KAAK,EAAC;AAAiB;oBAhJ1C;;EAAAC,GAAA;EAmK+CD,KAAK,EAAC;;;EAEzCA,KAAK,EAAC;AAAY;;EAOZA,KAAK,EAAC;AAAkB;;;uBA3KxCK,mBAAA,CAgLM,OAhLNC,UAgLM,GA/KJC,YAAA,CAAUC,iBAAA,GACVC,mBAAA,CA6KM,OA7KNC,UA6KM,G,4BA5KJD,mBAAA,CAAuD;IAAnDT,KAAK,EAAC;EAAkB,GAAC,uBAAqB,sBAElDW,mBAAA,sBAAyB,EACdC,KAAA,CAAAC,YAAY,I,cAAvBR,mBAAA,CAEM,OAFNS,UAEM,EAAAC,gBAAA,CADDH,KAAA,CAAAC,YAAY,oBARvBF,mBAAA,gBAWMA,mBAAA,sBAAyB,EACdC,KAAA,CAAAI,SAAS,I,cAApBX,mBAAA,CAEM,OAFNY,UAEM,EAAAC,MAAA,QAAAA,MAAA,OADJT,mBAAA,CAA4B,WAAzB,uBAAqB,oB,MAbhCE,mBAAA,gBAgBMA,mBAAA,qCAAwC,E,CAC5BC,KAAA,CAAAI,SAAS,IAAIJ,KAAA,CAAAO,QAAQ,CAACC,MAAM,WAAWR,KAAA,CAAAC,YAAY,I,cAA/DR,mBAAA,CAEM,OAFNgB,UAEM,EAFiG,qDAEvG,KAnBNV,mBAAA,gBAqBMA,mBAAA,wBAA2B,E,CACfC,KAAA,CAAAI,SAAS,IAAIJ,KAAA,CAAAO,QAAQ,CAACC,MAAM,Q,cAAxCf,mBAAA,CAqBM,OArBNiB,UAqBM,I,kBApBJjB,mBAAA,CAmBMkB,SAAA,QA1CdC,WAAA,CAuB+BZ,KAAA,CAAAO,QAAQ,EAAnBM,OAAO;yBAAnBpB,mBAAA,CAmBM;MAnB4BJ,GAAG,EAAEwB,OAAO,CAACtB,EAAE;MAAEH,KAAK,EAAC;QACvDS,mBAAA,CAiBM,OAjBNiB,UAiBM,GAhBJjB,mBAAA,CAeM,OAfNkB,UAeM,GAdJlB,mBAAA,CAA8C,MAA9CmB,UAA8C,EAAAb,gBAAA,CAApBU,OAAO,CAACI,IAAI,kBACtCpB,mBAAA,CAAkD,KAAlDqB,WAAkD,EAAAf,gBAAA,CAA1BU,OAAO,CAACM,WAAW,kBAE3CpB,mBAAA,uBAA0B,EACjBc,OAAO,CAACO,KAAK,I,cAAtB3B,mBAAA,CAEI,KAFJ4B,WAEI,G,0BADFxB,mBAAA,CAAwB,gBAAhB,SAAO,sBA/B/ByB,gBAAA,CA+BwC,IAAE,GAAAnB,gBAAA,CAAGU,OAAO,CAACO,KAAK,iB,KA/B1DrB,mBAAA,gBAkCcA,mBAAA,uCAA0C,EAC1CF,mBAAA,CAIM,OAJN0B,WAIM,GAHJ1B,mBAAA,CAES;MAFDT,KAAK,EAAC,+CAA+C;MAAEoC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,qBAAqB,CAACd,OAAO;OAAG,sBAEtG,iBAtChBe,WAAA,E;sCAAA7B,mBAAA,gBA6CMA,mBAAA,2BAA8B,EAC9BF,mBAAA,CA+BM,OA/BNgC,WA+BM,GAxBJhC,mBAAA,CAuBM,OAvBNiC,WAuBM,GAtBJjC,mBAAA,CAqBM,OArBNkC,WAqBM,G,4BApBJlC,mBAAA,CAQM;IARDT,KAAK,EAAC;EAAc,IACvBS,mBAAA,CAA4E;IAAxET,KAAK,EAAC,aAAa;IAACG,EAAE,EAAC;KAAyB,qBAAmB,GACvEM,mBAAA,CAKU;IAJRmC,IAAI,EAAC,QAAQ;IACb5C,KAAK,EAAC,WAAW;IACjB,iBAAe,EAAC,OAAO;IACvB,YAAU,EAAC;2BAGfS,mBAAA,CAEM,OAFNoC,WAEM,EAFkB,uDAC6B,GAAA9B,gBAAA,CAAGH,KAAA,CAAAkC,eAAe,EAAEjB,IAAI,IAAG,MAChF,iBACApB,mBAAA,CAOM,OAPNsC,WAOM,G,4BANJtC,mBAAA,CAES;IAFDmC,IAAI,EAAC,QAAQ;IAAC5C,KAAK,EAAC,mBAAmB;IAAC,iBAAe,EAAC;KAAQ,YAExE,sBACAS,mBAAA,CAES;IAFDmC,IAAI,EAAC,QAAQ;IAAC5C,KAAK,EAAC,iBAAiB;IAAEoC,OAAK,EAAAlB,MAAA,QAAAA,MAAA,UAAA8B,IAAA,KAAEV,QAAA,CAAAW,eAAA,IAAAX,QAAA,CAAAW,eAAA,IAAAD,IAAA,CAAe;KAAE,iBAEvE,E,SAMRrC,mBAAA,0BAA6B,EAC7BF,mBAAA,CAgFM,OAhFNyC,WAgFM,GAzEJzC,mBAAA,CAwEM,OAxEN0C,WAwEM,GAvEJ1C,mBAAA,CAsEM,OAtEN2C,WAsEM,G,4BArEJ3C,mBAAA,CAQM;IARDT,KAAK,EAAC;EAAc,IACvBS,mBAAA,CAA+E;IAA3ET,KAAK,EAAC,aAAa;IAACG,EAAE,EAAC;KAAwB,yBAAuB,GAC1EM,mBAAA,CAKU;IAJRmC,IAAI,EAAC,QAAQ;IACb5C,KAAK,EAAC,WAAW;IACjB,iBAAe,EAAC,OAAO;IACvB,YAAU,EAAC;2BAGfS,mBAAA,CA2DM,OA3DN4C,WA2DM,GA1DJ5C,mBAAA,CAyDO;IAzDA6C,QAAM,EAAApC,MAAA,QAAAA,MAAA,MAnG3BqC,cAAA,KAAAP,IAAA,KAmGqCV,QAAA,CAAAkB,aAAA,IAAAlB,QAAA,CAAAkB,aAAA,IAAAR,IAAA,CAAa;MAClCvC,mBAAA,CAWM,OAXNgD,WAWM,G,4BAVJhD,mBAAA,CAA4C;IAArCiD,GAAG,EAAC;EAAa,GAAC,aAAW,sB,gBACpCjD,mBAAA,CAOY;IANVN,EAAE,EAAC,aAAa;IAvGpC,uBAAAe,MAAA,QAAAA,MAAA,MAAAmB,MAAA,IAwG6BzB,KAAA,CAAA+C,IAAI,CAAC5B,WAAW,GAAAM,MAAA;IACzBrC,KAAK,EAAC,cAAc;IACpB4D,IAAI,EAAC,GAAG;IACRC,WAAW,EAAC,oCAAoC;IAChDC,QAAQ,EAAR;iDAJSlD,KAAA,CAAA+C,IAAI,CAAC5B,WAAW,E,GAMfnB,KAAA,CAAAmD,MAAM,CAAChC,WAAW,I,cAA9B1B,mBAAA,CAAmF,QAAnF2D,WAAmF,EAAAjD,gBAAA,CAA5BH,KAAA,CAAAmD,MAAM,CAAChC,WAAW,oBA9G3FpB,mBAAA,e,GAgHgBF,mBAAA,CAYM,OAZNwD,WAYM,G,4BAXJxD,mBAAA,CAAuC;IAAhCiD,GAAG,EAAC;EAAU,GAAC,WAAS,sB,gBAC/BjD,mBAAA,CASS;IARPN,EAAE,EAAC,UAAU;IAnHjC,uBAAAe,MAAA,QAAAA,MAAA,MAAAmB,MAAA,IAoH6BzB,KAAA,CAAA+C,IAAI,CAACO,QAAQ,GAAA7B,MAAA;IACtBrC,KAAK,EAAC,cAAc;IACpB8D,QAAQ,EAAR;kCAEArD,mBAAA,CAAiC;IAAzB0D,KAAK,EAAC;EAAK,GAAC,MAAI,qBACxB1D,mBAAA,CAAqC;IAA7B0D,KAAK,EAAC;EAAQ,GAAC,OAAK,qBAC5B1D,mBAAA,CAAkC;IAA1B0D,KAAK,EAAC;EAAM,GAAC,MAAI,oB,2CANhBvD,KAAA,CAAA+C,IAAI,CAACO,QAAQ,E,KAU1BzD,mBAAA,CAGM,OAHN2D,WAGM,G,4BAFN3D,mBAAA,CAAkD;IAA3CiD,GAAG,EAAC;EAAe,GAAC,iBAAe,sB,gBAC1CjD,mBAAA,CAAmG;IAA5FmC,IAAI,EAAC,MAAM;IAACzC,EAAE,EAAC,eAAe;IAhIrD,uBAAAe,MAAA,QAAAA,MAAA,MAAAmB,MAAA,IAgI+DzB,KAAA,CAAA+C,IAAI,CAACU,aAAa,GAAAhC,MAAA;IAAErC,KAAK,EAAC,cAAc;IAAC8D,QAAQ,EAAR;iDAAzClD,KAAA,CAAA+C,IAAI,CAACU,aAAa,E,KAGjE1D,mBAAA,sBAAyB,EAC3BF,mBAAA,CAGM,OAHN6D,WAGM,G,4BAFN7D,mBAAA,CAAiC;IAA1BiD,GAAG,EAAC;EAAQ,GAAC,OAAK,sB,gBACzBjD,mBAAA,CAAkH;IAA3GmC,IAAI,EAAC,MAAM;IAAAzC,EAAE,EAAC,QAAQ;IAtI3C,uBAAAe,MAAA,QAAAA,MAAA,MAAAmB,MAAA,IAsIqDzB,KAAA,CAAA+C,IAAI,CAACY,MAAM,GAAAlC,MAAA;IAACrC,KAAK,EAAC,cAAc;IAAC6D,WAAW,EAAC,kBAAkB;IAACC,QAAQ,EAAR;iDAAhElD,KAAA,CAAA+C,IAAI,CAACY,MAAM,E,KAGlD5D,mBAAA,uBAA0B,EAC3BF,mBAAA,CAGO,OAHP+D,WAGO,G,4BAFP/D,mBAAA,CAAgC;IAAzBiD,GAAG,EAAC;EAAM,GAAC,QAAM,sB,gBACxBjD,mBAAA,CAAiH;IAA1GmC,IAAI,EAAC,MAAM;IAACzC,EAAE,EAAC,MAAM;IA5IzC,uBAAAe,MAAA,QAAAA,MAAA,MAAAmB,MAAA,IA4ImDzB,KAAA,CAAA+C,IAAI,CAACc,IAAI,GAAApC,MAAA;IAAErC,KAAK,EAAC,cAAc;IAAC6D,WAAW,EAAC,mBAAmB;IAACC,QAAQ,EAAR;iDAAhElD,KAAA,CAAA+C,IAAI,CAACc,IAAI,E,KAG9C9D,mBAAA,8BAAiC,EACjCF,mBAAA,CAGM,OAHNiE,WAGM,G,4BAFNjE,mBAAA,CAAsC;IAA/BiD,GAAG,EAAC;EAAK,GAAC,eAAa,sB,gBAC9BjD,mBAAA,CAAsH;IAA/GmC,IAAI,EAAC,MAAM;IAACzC,EAAE,EAAC,KAAK;IAlJzC,uBAAAe,MAAA,QAAAA,MAAA,MAAAmB,MAAA,IAkJmDzB,KAAA,CAAA+C,IAAI,CAACgB,GAAG,GAAAtC,MAAA;IAAErC,KAAK,EAAC,cAAc;IAAC6D,WAAW,EAAC,0BAA0B;IAACC,QAAQ,EAAR;iDAAtElD,KAAA,CAAA+C,IAAI,CAACgB,GAAG,E,KAG3ClE,mBAAA,CAMS;IALPmC,IAAI,EAAC,QAAQ;IACb5C,KAAK,EAAC,sBAAsB;IAC3B4E,QAAQ,EAAEhE,KAAA,CAAAiE;sBAERjE,KAAA,CAAAiE,YAAY,6DA1JjCC,WAAA,E,oCAkKMnE,mBAAA,oCAAuC,EAC5BC,KAAA,CAAAmE,iBAAiB,CAAC3D,MAAM,Q,cAAnCf,mBAAA,CAYM,OAZN2E,WAYM,G,4BAXJvE,mBAAA,CAA2C;IAAvCT,KAAK,EAAC;EAAM,GAAC,uBAAqB,sBACtCS,mBAAA,CASK,MATLwE,WASK,I,kBARH5E,mBAAA,CAOKkB,SAAA,QA7KfC,WAAA,CAuK8BZ,KAAA,CAAAmE,iBAAiB,EAA5BG,OAAO;yBADhB7E,mBAAA,CAOK;MALFJ,GAAG,EAAEiF,OAAO,CAAC/E,EAAE;MAChBH,KAAK,EAAC;QAENS,mBAAA,CAAsC,cAAAM,gBAAA,CAA7BmE,OAAO,CAACC,WAAW,kBAC5B1E,mBAAA,CAA0D,QAA1D2E,WAA0D,EAAArE,gBAAA,CAAxBmE,OAAO,CAACG,MAAM,iB;wCA5K5D1E,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}